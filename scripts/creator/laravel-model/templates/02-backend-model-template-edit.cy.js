/// <reference types="cypress" />
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	TESTS
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


describe('Edit {{ModelClass}} model in backend', () => {



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	EDIT {{uppercase}}
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	it('overwrite name', () => {

		// arrange: got to list page
		cy.backendLogin();
		cy.visit('/backend/{{slug}}');
		cy.wait(2000);

		// arrange: find cypress test {{slug}}
		var {{slug}}Name;
		var {{slug}} = cy.get('.data-list-item[data-draggable] a').filter(':contains("Cypress Test-{{ModelClass}}")').first();
		{{slug}}.should(target => {{slug}}Name = target.text().trim().replace(' - edited',''));
		{{slug}}.click();
		cy.wait(2000);

		// act
		cy.get('#input-name').then(el => cy.get(el).clear().type({{slug}}Name + ' - edited'));
		cy.get('.btn-model-confirm').click();

		// assert
		cy.url().should('include', '/backend/{{slug}}');
		cy.get('.data-list-item[data-draggable] a').then(e => cy.get(e).filter(':contains("'+{{slug}}Name+' - edited")').should('exist'));
	});



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


})
