<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace Tests\PHPUnit\Feature\Http\Controllers\App;

	// Laravel
	use Tests\PHPUnit\TestCase;
	use Illuminate\Foundation\Testing\RefreshDatabase;
	{{includesLaravel}}

	// App
	use App\Models\App\{{ModelClass}};
	{{includesApp}}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class {{ModelClass}}ControllerTest extends TestCase {

	use RefreshDatabase;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	MODEL LIST
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function test_get_public_list() {

		$this->seed();

		// act
		$data = $this->getData('/api/{{slug}}');

		// assert: correct data
		$this->assertIsArray($data);
		$this->assertEquals('{{slug}}',$data[0]['type']);
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	MODEL GET
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function test_get_public() {

		// arrange
		${{slug}} = {{ModelClass}}::factory()->public()->create();

		// act
		$data = $this->getData('/api/{{slug}}/'.${{slug}}->slug);

		// assert: check response is {{slug}} model
		$this->assertEquals('{{slug}}',$data['type']);
	}


	public function test_get_public_not_found() {

		$this->getError('/api/{{slug}}/3ec9fc3b-a102-40b6-bd61-743f8bd2403b');
	}



{{page}}
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


} // end class

