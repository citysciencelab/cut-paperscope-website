<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// Laravel
	use Illuminate\Database\Schema\Blueprint;

	// App
	use Database\Migrations\Base\BaseMigration;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CLASS CONSTRUCT
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


return new class extends BaseMigration
{

	protected string $tableName = '{{item1}}_{{item2}}';



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    UP
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function create(Blueprint &$table): void {

		$table->bigIncrements('id');

		// relation
		$table->foreignUuid('{{item1}}_id')->constrained();
		$table->foreignUuid('{{item2}}_id')->constrained();
		$table->integer('order')->default(0);

		// internal
		$table->index(['{{item1}}_id','{{item2}}_id']);
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


}; // end class
