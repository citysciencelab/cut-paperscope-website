<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// laravel
	require_once __DIR__ . '/../../../../vendor/autoload.php';
	use Illuminate\Support\Str;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    MAIN
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


trait CreateBackendNavi {



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    BACKEND NAVI
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	protected function createBackendNavi() {

		$template = file_get_contents(__DIR__ . '/../../../../resources/js/backend/components/navi/BackendNavi.vue');

		$template = Str::replaceFirst('<hr class="backend-navi-separator">', $this->createBackendNaviItem(), $template);

		if($this->testMode) {
			file_put_contents(__DIR__ . '/../tests/BackendNavi.vue', $template);
		}
		else {
			file_put_contents(__DIR__ . '/../../../../resources/js/backend/components/navi/BackendNavi.vue', $template);
		}
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    NAVI ITEM
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	protected function createBackendNaviItem() {

		$naviItem = '<header-navi-item label="'.$this->userInput['name'].'" to="backend.'.$this->userInput['slug']."\"/>\n\t\t";
		$naviItem .= '<hr class="backend-navi-separator">';

		return $naviItem;
	}


/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


} // end trait
