<?php

/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace Tests\PHPUnit\Feature\Http\Validators;

	// Laravel
	use Tests\PHPUnit\TestCase;

	// App
	use App\Http\Validators\DomainValidator;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class DomainValidatorTest extends TestCase {



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    DOMAIN
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	/** @dataProvider provideDomainData */
	public function test_file_extension_validator(string $input, bool $isValid) {

		// act
		$validator = new DomainValidator();
		$result = $validator->validate('file', $input, ['hello-nasty.com']);

		// assert
		$this->assertEquals($isValid, $result);
	}


	static public function provideDomainData() {

		return [
			"expected input" => ['dev.hello-nasty.com', true],
			"expected input with port" => ['dev.hello-nasty.com:8000', true],
			"expected input with path" => ['dev.hello-nasty.com/test', true],
			'wrong input' => ['hello-nasty', false],
			'empty input' => ['', false],
		];
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

} // end class
