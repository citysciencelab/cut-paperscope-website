<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace Tests\PHPUnit\Feature\Http\Resources\Shop;

	// Laravel
	use Tests\PHPUnit\TestCase;
	use Illuminate\Foundation\Testing\RefreshDatabase;
	use Illuminate\Http\Request;

	// App
	use App\Http\Resources\Shop\SubscriptionResource;
	use App\Models\Shop\Subscription;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class SubscriptionResourceTest extends TestCase {

	use RefreshDatabase;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INPUT FILE
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function test_subscription_resource() {

		// arrange
		$subscription = Subscription::make([
			'trial_ends_at' => '1.1.2021 12:00',
			'ends_at' => '1.1.2022 13:00',
		]);

		// act
		$resource = new SubscriptionResource($subscription);
		$result = $resource->toArray(new Request());

		// assert
		$this->assertEquals($result['trial_ends_at'],'1.1.2021 12:00');
		$this->assertEquals($result['ends_at'],'1.1.2022 13:00');
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

} // end class

