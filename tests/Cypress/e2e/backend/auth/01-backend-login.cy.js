/// <reference types="cypress" />
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	TESTS
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


describe('Login user in backend', () => {


	it('correct env variable for password',()=>{

		// assert
		expect(Cypress.env('ROOT_PASSWORD')).to.be.a('string')
	});



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	BACKEND LOGIN
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	it('redirect to login page', () => {

		// act
		cy.visit('/backend');

		// assert
		cy.url().should('include', '/login');
		cy.url().should('include', '?redirect=/backend');
	});


	it('fill out form with invalid user data', () => {

		// act
		cy.backendLogin(null, '12345678');

		// assert: error message
		cy.get('p.error').should('to.exist');

		// assert: error styling
		cy.get('#input-email').should('have.class','error');
		cy.get('label[for="input-email"]').should('have.class','error');
	});


	it('fill out form with correct user data', () => {

		// act
		cy.backendLogin();

		// assert
		cy.url().should('include', '/backend');
		cy.get('h2').should('have.text','Dashboard');
	});



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


})
