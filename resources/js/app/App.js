/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// vue
	import { createApp } from "vue";
	import { createPinia } from 'pinia'
	import { createHead } from '@unhead/vue'
	import { createI18n } from 'vue-i18n';

	// vue plugins
	import AppRoot from './AppRoot.vue';
	import AppRouter from './AppRouter';

	// global
	import global from '@global/Global';



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	VUE APP
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	const app = createApp(AppRoot);

	// app static components
	const components = import.meta.glob([
		'./components/header/**/*.vue',
		'./components/footer/**/*.vue',
		'./components/popup/**/*.vue',
		'./components/content/**/*.vue',
		'./components/analytics/Matomo.vue',
	], { eager: true });
	global.addComponents(app,components);


	// app async components
	const asyncComponents = import.meta.glob([
		'./components/user/**/*.vue',
		'./components/analytics/MatomoOptout.vue',
		'./components/fragment/**/*.vue',
		'./components/social/**/*.vue',
		'./components/project/**/*.vue',
		'./components/visualizer/**/*.vue',
		'./components/beamer/**/*.vue',
	]);
	global.addAsyncComponents(app,asyncComponents);



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	MAIN
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// create vue app
	global.init(app,'app');

	// init i18n
	const messages = import.meta.glob('./lang/*.js', { eager: true });
	const i18n = global.getI18n(messages)

	// init vue plugins
	app.use(createPinia());
	app.use(createHead());
	app.use(createI18n(i18n));
	app.use(AppRouter);

	// start vue app
	AppRouter.isReady().then(() => app.mount('#app'))


