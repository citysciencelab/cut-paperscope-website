<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<template>

		<section class="content">

			<h1>{{ t("Shop") }}</h1>
			<product-teaser v-for="product in products" :product="product" :key="product.id"/>

		</section>

	</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script setup>

		import { ref } from 'vue';
		import { useAuth } from '@global/composables/useAuth';
		import { useUser } from '@global/composables/useUser';
		import { usePage } from '@global/composables/usePage';
		import { useApi } from '@global/composables/useApi';


		/////////////////////////////////
		// INIT
		/////////////////////////////////

		const { t } = usePage("Shop");


		/////////////////////////////////
		// PRODUCT
		/////////////////////////////////

		const { getUser } = useAuth();
		const { user } = useUser();
		const { apiGet } = useApi();
		const products = ref(null);

		if(user.value) { getUser(); }
		apiGet('product.list',{}, data => products.value = data, true);


	</script>


