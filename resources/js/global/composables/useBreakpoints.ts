/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// vue
	import { computed } from 'vue';
	import { useGlobalStore } from '@global/stores/GlobalStore';



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	COMPOSABLE
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


export const useBreakpoints = () => {

	const store = useGlobalStore();


	/////////////////////////////////
	// VALUES
	/////////////////////////////////

	const mobileBreakpoint = getCssVar('--mobile');
	const tabletPortraitBreakpoint = getCssVar('--tabletPortrait');
	const tabletBreakpoint = getCssVar('--tablet');

	/**
	 * Get integer value (px) of a css variable.
	 */

	function getCssVar(name: string, target: HTMLElement = document.body) : number {

		const style = getComputedStyle(target);
		const value = style.getPropertyValue(name).trim();

		return parseInt(value);
	}


	/////////////////////////////////
	// STATE
	/////////////////////////////////

	const isMobile			= computed(() => store.vw <= mobileBreakpoint || (store.vw <= 900 && store.vh <= 420) );
	const isTabletPortrait	= computed(() => !isMobile.value && store.vw <= tabletPortraitBreakpoint);
	const isTablet			= computed(() => !isMobile.value && !isTabletPortrait.value && store.vw <= tabletBreakpoint);
	const isDesktop			= computed(() => store.vw > tabletBreakpoint);


	/////////////////////////////////
	// EXPORT
	/////////////////////////////////

	return {
		mobileBreakpoint, tabletBreakpoint, tabletPortraitBreakpoint,
		isMobile, isTablet, isTabletPortrait, isDesktop,
		getCssVar,
	};



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


};
