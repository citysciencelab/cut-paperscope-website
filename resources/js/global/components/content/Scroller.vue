<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<template>

		<div ref="root" class="scroller">
			<slot></slot>
		</div>

	</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script setup>

		import { ref, useTemplateRef, onMounted, onBeforeUnmount } from 'vue';

		import SimpleBar from 'simplebar';
		import '@node_modules/simplebar/dist/simplebar.css';


		/////////////////////////////////
		// INIT
		/////////////////////////////////

		const props = defineProps({
			autoHide: { type:Boolean, default:false }, 		// Auto hide scrollbar when not scrolling active
		});

		const emit = defineEmits(['loaded']);


		/////////////////////////////////
		// SIMPLEBAR
		/////////////////////////////////

		const root = useTemplateRef('root');
		var simplebar = null;

		onMounted(() => {

			simplebar = new SimpleBar(root.value,{
				autoHide: props.autoHide,
				scrollbarMinSize: 20,
			});

			emit('loaded');
		});

		onBeforeUnmount(() => simplebar?.unMount());

		function update() {

			simplebar?.recalculate();
		}

		defineExpose({update});


	</script>


