<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace App\Notifications;

	// Laravel
	use Illuminate\Bus\Queueable;
	use Illuminate\Contracts\Queue\ShouldQueue;
	use Illuminate\Notifications\Messages\MailMessage;
	use Illuminate\Notifications\Notification;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class SubscriptionResumedNotification extends Notification implements ShouldQueue
{
	// Traits
	use Queueable;

	public $locale;

	public function __construct($locale) {

		$this->locale = $locale;
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	NOTIFICATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function via($notifiable) {

		return ['mail'];
	}


	public function toMail($notifiable) {

		app()->setLocale($this->locale);

		return ( new MailMessage )
			->greeting(__('notification.greeting') . ' ' . $notifiable->name)
			->subject(__('notification.resume-subscription-subject'))
			->line(__('notification.resume-subscription-text'))
			->salutation(__('notification.salutation'));
	}



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


}
