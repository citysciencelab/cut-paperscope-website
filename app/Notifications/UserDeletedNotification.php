<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace App\Notifications;

	// Laravel
	use Illuminate\Bus\Queueable;
	use Illuminate\Contracts\Queue\ShouldQueue;
	use Illuminate\Notifications\Messages\MailMessage;
	use Illuminate\Notifications\Notification;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class UserDeletedNotification extends Notification implements ShouldQueue
{
	// Traits
	use Queueable;

	public $userName;
	public $locale;


	public function __construct($userName, $locale) {

		$this->userName = $userName;
		$this->locale = $locale;
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	NOTIFICATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function via($notifiable) {

		return ['mail'];
	}


	public function toMail($notifiable) {

		app()->setLocale($this->locale);

		return ( new MailMessage )
			->greeting(__('notification.greeting') . ' ' . $this->userName)
			->subject(__('notification.user-deleted-subject'))
			->line(__('notification.user-deleted-text'))
			->salutation(__('notification.salutation'));
	}



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


}
