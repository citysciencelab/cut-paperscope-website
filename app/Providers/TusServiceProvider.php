<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace App\Providers;

	// Laravel
	use TusPhp\Tus\Server as TusServer;
	use Illuminate\Support\ServiceProvider;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	CLASS DECLARATION
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class TusServiceProvider extends ServiceProvider {


	// Register the application services.
	public function register() {

		$this->app->singleton('tus-server', function ($app) {

			$server = new TusServer('file');
			$server->setApiPath('/api/backend/tus');

			// upload path
			$server->setUploadDir( config('filesystems.disks.public.root') );

			return $server;
		});
	}



/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


}
