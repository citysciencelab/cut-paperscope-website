<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace App\Http\Resources\Auth;

	// Laravel
	use Illuminate\Http\Request;
	use Illuminate\Support\Facades\Auth;

	// App
	use App\Http\Resources\Base\BaseModelResource;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CLASS CONSTRUCT
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class UserListResource extends BaseModelResource {


	public function getProps(Request $request): array {

		$accessProtectedProperties = Auth::check();

		return [

			// default properties
			'public' => 	true,

			// user properties
			'id' => 		$this->id,
			'username' => 	$this->username,

			// protected properties: only for logged in users
			$this->mergeWhen($accessProtectedProperties,[
				'image' => 		$this->image,
			]),
		];
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


} // end class
