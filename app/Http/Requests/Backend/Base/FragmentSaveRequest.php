<?php
/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// 	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	namespace App\Http\Requests\Backend\Base;

	// App
	use App\Http\Requests\Model\BaseModelSaveRequest;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// 	CLASS CONSTRUCT
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


class FragmentSaveRequest extends BaseModelSaveRequest {


	protected $target = "fragments";
	protected $targetClass = \App\Models\App\Base\Fragment::class;



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	VALIDATE
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	public function rules(): array {

		return $this->translate([

			...$this->getBaseRules(),

			// fragment properties
			'template' =>		'bail|required|string|in:text,text-image,image,slider-image,video,accordion,separator,custom-component',
			'content' => 		$this->rule('content-json').'|translate',

			// parent relation properties
			'parent_id' =>		$this->rule('parent_id'),
			'parent_type' =>	$this->rule('parent_type'),
			'order' =>			'bail|nullable|integer|gte:0',
		]);
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	ERROR MESSAGES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


	// rename variables for form error messages
	public function attributes(): array {

		return [
			...parent::attributes(),
			'template' => 	trans('Template'),
			'content' => 	trans('Content'),
		];
	}


	public function messages(): array {

		return [
			...parent::messages(),
		];
	}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */


} // end class
